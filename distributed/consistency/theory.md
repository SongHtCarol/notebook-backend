# 分布式理论

- [分布式理论](#分布式理论)
    - [CAP理论](#cap理论)
      - [CA without P](#ca-without-p)
      - [CP without A](#cp-without-a)
      - [AP without C](#ap-without-c)
    - [BASE理论](#base理论)
      - [基本可用（Basically Available）](#基本可用basically-available)
      - [软状态（Soft State）](#软状态soft-state)
      - [最终一致性（Eventually Consistent）](#最终一致性eventually-consistent)

---

### CAP理论
提出了一致性（C）、可用性（A）、分区容忍性（P）的取舍问题
#### CA without P
放弃分区容忍性，保证强一致性和可用性。如：单点关系性数据库、LDAP
#### CP without A
放弃可用性，保证强一致性和分区容忍性。如：分布式锁、分布式数据库
#### AP without C
放弃强一致性，保证可用性和分区容忍性。如：DNS、Web缓存

### BASE理论
#### 基本可用（Basically Available）
基本可用是指在出现故障或高负载情况下，系统仍然能够提供部分服务，满足用户的基本需求。例如，在电商大促期间，系统可能会限制某些非关键功能的使用，如商品评论功能可能会暂时关闭，或者降低图片的分辨率以节省网络资源，这样虽然系统的服务有所缺失，但仍然可以让用户完成基本的购物流程。
#### 软状态（Soft State）
软状态允许系统中的数据存在中间状态，不需要保证数据总是一致的。例如，在一个分布式存储系统中，当用户上传一份文件时，可能在某个瞬间，系统中的某些节点已经接收到了文件的部分内容，而其他节点还没有接收到，这就是一种软状态。这种状态在系统运行过程中是正常的，并且会随着时间的推移逐步趋向于完成状态。
#### 最终一致性（Eventually Consistent）
最终一致性表示尽管在系统运行过程中可能会出现数据不一致的情况，但经过一段时间后，系统中的所有数据副本最终会达到一致状态。例如，在一个分布式数据库系统中，不同节点上的数据可能会因为网络分区、并发操作等原因出现不一致，但随着网络分区的恢复、并发操作的完成等，所有节点上的数据最终会变得一致。